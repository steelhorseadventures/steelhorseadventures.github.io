"use strict";angular.module("steelhorseadventuresApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui-leaflet"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]).filter("unique",function(){return function(a,b){var c,d={},e=a.length,f=[];for(c=0;c<e;c+=1)d[a[c][b]]=a[c];for(c in d)f.push(d[c]);return f}}),angular.module("steelhorseadventuresApp").controller("MainCtrl",["$scope","thingApi",function(a,b){a.things=[];var c=[],d=[];a.allTheDistance=0,b.query({org:"steelhorseadventures",repo:"sha-content",file:"things.json"},function(b){for(var e in b)!b[e].hide&&b[e].id&&(c.push.apply(c,b[e].map.paths.p1.latlngs),d.push.apply(d,b[e].countries),a.allTheDistance+=b[e].map.distance.value,a.things.push({title:b[e].title,header_picture:b[e].header_picture,countries:b[e].countries,pictures:b[e].pictures,waypoints:b[e].waypoints,summary:b[e].description,map:b[e].map,facebook:b[e].facebook,duration:["roughly "+b[e].map.duration.text,b[e].map.duration.text+" or something like that",b[e].map.duration.text+", honestly, officer",b[e].map.duration.text+", or thereabouts","maybe "+b[e].map.duration.text,"close enough to "+b[e].map.duration.text,"something like "+b[e].map.duration.text][Math.floor(7*Math.random())]}))}),a.allTheCountries=d,a.theWholeRoute={p1:{color:"#33adff",weight:5,latlngs:c}}}]),angular.module("steelhorseadventuresApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("steelhorseadventuresApp").factory("gist",["$resource",function(a){var b="https://api.github.com/users/:username/gists";return a(b,{username:"@_username",id:"@_id"},{headers:{Accept:"application/vnd.github.v3+json"},get:{url:b+"/:id"},query:{isArray:!0}})}]),angular.module("steelhorseadventuresApp").factory("thingApi",["$resource",function(a){var b="https://raw.githubusercontent.com/:org/:repo/master/:file",c=Math.ceil(c),d=Math.floor(d);return a(b+"?"+(Math.floor(Math.random()*(d-c))+c),{org:"@_org",repo:"@_repo",file:"@_file"},{get:{url:b},query:{isArray:!0}})}]),angular.module("steelhorseadventuresApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div ng-repeat="thing in things | orderBy:\'id\':true"> <div class="timeline-panel"> <div class="timeline-heading"> <h3 ng-show="thing.title"> {{thing.title}} </h3> <h4> {{thing.map.distance.value / 1000 | number:1}} kilometres / {{thing.map.distance.value * 0.000621371 | number:1}} miles, {{thing.duration}} </h4> <div class="clearfix" style="margin-bottom: 10px"> <a href="{{country.url}}" ng-repeat="country in thing.countries"> <img src="images/flags/{{country.code}}.png" alt="flag of {{country.code}}" class="pull-left rounded" style="margin-right: 10px"> </a> </div> <a href="{{thing.header_picture}}=h1080" ng-show="thing.header_picture"> <img src="{{thing.header_picture}}=w700" class="rounded" style="margin-bottom: 10px"> </a> </div> <div class="timeline-body"> <p class="small text-muted" ng-repeat="waypoint in thing.waypoints"> <i class="glyphicon glyphicon-time"></i> {{waypoint.time}} <a href="{{waypoint.url}}" ng-show="waypoint.url"> <i class="glyphicon glyphicon-map-marker"></i> {{waypoint.place}} </a> <span ng-hide="waypoint.url"> <i class="glyphicon glyphicon-map-marker"></i> {{waypoint.place}} </span> </p> <p ng-show="thing.summary && (thing.title != thing.summary)"> {{thing.summary}} </p> <p><a href="https://www.facebook.com/rob.thijssen/posts/{{thing.facebook}}" ng-show="thing.facebook">facebook</a></p> <div style="margin-bottom: 10px"> <leaflet id="{{thing.id}}" ng-show="thing.map" lf-center="thing.map.centre" paths="thing.map.paths" width="100%" height="480px"></leaflet> </div> <div class="clearfix"> <a href="{{picture}}=h1080" ng-repeat="picture in thing.pictures"> <img src="{{picture}}=h180" class="pull-left rounded" style="margin-right: 10px; margin-bottom: 10px"> </a> </div> <ul ng-show="thing.tags" class="list-inline"> <li ng-repeat="tag in thing.tags"> <span class="badge">{{tag}}</span> </li> </ul> </div> </div> <hr> </div> <h3>The Whole Route (or rather, what I\'ve recorded so far)</h3> <h4> {{allTheDistance / 1000 | number:1}} kilometres / {{allTheDistance * 0.000621371 | number:1}} miles </h4> <div class="clearfix" style="margin-bottom: 10px"> <a href="{{country.url}}" ng-repeat="country in allTheCountries | unique: \'code\'"> <img src="images/flags/{{country.code}}.png" alt="flag of {{country.code}}" class="pull-left rounded" style="margin-right: 10px"> </a> </div> <leaflet id="theBigPicture" lf-center="{lat:40.113142,lng:1.302247,zoom:4}" paths="theWholeRoute" width="100%" height="480px"></leaflet>')}]);